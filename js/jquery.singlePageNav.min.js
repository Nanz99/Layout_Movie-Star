"function"!=typeof Object.create&&(Object.create=function(t){function i(){}return i.prototype=t,new i}),function(o,n){"use strict";var i={init:function(t,i){this.options=o.extend({},o.fn.singlePageNav.defaults,t),this.container=i,this.$container=o(i),this.$links=this.$container.find("a"),""!==this.options.filter&&(this.$links=this.$links.filter(this.options.filter)),this.$window=o(n),this.$htmlbody=o("html, body"),this.$links.on("click.singlePageNav",o.proxy(this.handleClick,this)),this.didScroll=!1,this.checkPosition(),this.setTimer()},handleClick:function(t){var i=this,n=t.currentTarget,e=o(n.hash);t.preventDefault(),e.length&&(i.clearTimer(),"function"==typeof i.options.beforeStart&&i.options.beforeStart(),i.setActiveLink(n.hash),i.scrollTo(e,function(){i.options.updateHash&&history.pushState&&history.pushState(null,null,n.hash),i.setTimer(),"function"==typeof i.options.onComplete&&i.options.onComplete()}))},scrollTo:function(t,i){var n=this,e=n.getCoords(t).top,o=!1;n.$htmlbody.stop().animate({scrollTop:e},{duration:n.options.speed,easing:n.options.easing,complete:function(){"function"!=typeof i||o||i(),o=!0}})},setTimer:function(){var t=this;t.$window.on("scroll.singlePageNav",function(){t.didScroll=!0}),t.timer=setInterval(function(){t.didScroll&&(t.didScroll=!1,t.checkPosition())},250)},clearTimer:function(){clearInterval(this.timer),this.$window.off("scroll.singlePageNav"),this.didScroll=!1},checkPosition:function(){var t=this.$window.scrollTop(),i=this.getCurrentSection(t);this.setActiveLink(i)},getCoords:function(t){return{top:Math.round(t.offset().top)-this.options.offset}},setActiveLink:function(t){var i=this.$container.find("a[href$='"+t+"']");i.hasClass(this.options.currentClass)||(this.$links.removeClass(this.options.currentClass),i.addClass(this.options.currentClass))},getCurrentSection:function(t){var i,n,e;for(i=0;i<this.$links.length;i++)n=this.$links[i].hash,o(n).length&&t>=this.getCoords(o(n)).top-this.options.threshold&&(e=n);return e||this.$links[0].hash}};o.fn.singlePageNav=function(t){return this.each(function(){Object.create(i).init(t,this)})},o.fn.singlePageNav.defaults={offset:0,threshold:120,speed:400,currentClass:"current",easing:"swing",updateHash:!1,filter:"",onComplete:!1,beforeStart:!1}}(jQuery,window,document);